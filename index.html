<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FRC 2026 REBUILT ‚Äì Pit Collect</title>

<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

<style>
:root {
  --bg: #0b1220;
  --card: #111827;
  --accent: #3b82f6;
  --muted: #94a3b8;
  --border: #1f2933;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  background: radial-gradient(circle at top, #111827, var(--bg));
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  color: #e5e7eb;
  padding: 18px;
}

h1 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 14px;
}

.card {
  background: linear-gradient(180deg, #111827, #0b1220);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
  animation: fadeUp 0.4s ease;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.card h2 {
  margin: 0 0 10px;
  font-size: 17px;
  display: flex;
  align-items: center;
  gap: 6px;
}

label {
  display: block;
  margin-top: 10px;
  font-size: 13px;
  color: var(--muted);
}

input, select, textarea {
  width: 100%;
  padding: 10px 12px;
  margin-top: 4px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: #020617;
  color: #e5e7eb;
  font-size: 15px;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(59,130,246,0.25);
}

textarea {
  resize: vertical;
}

button {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: none;
  font-size: 16px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--accent), #2563eb);
  color: white;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
}

button:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(59,130,246,0.35);
}

.secondary {
  background: #1f2937;
  margin-top: 10px;
}

#qrcode {
  margin-top: 18px;
  display: flex;
  justify-content: center;
  animation: fadeUp 0.3s ease;
}

img {
  width: 100%;
  border-radius: 12px;
  margin-top: 10px;
  border: 1px solid var(--border);
}

.hint {
  font-size: 12px;
  color: var(--muted);
  margin-top: 4px;
}
</style>
</head>

<body>

<h1>ü§ñ FRC 2026 REBUILT ‚Äì Pit Collect</h1>

<div class="card">
  <h2>üÜî Robot Identity</h2>
  <label>Team Number</label>
  <input id="team" type="number">

  <label>Robot Name</label>
  <input id="name">
</div>

<div class="card">
  <h2>üöÄ Autonomous Configuration</h2>

  <label>Auto Start Position</label>
  <select id="autoStart">
    <option value="">Select</option>
    <option value="left">Left</option>
    <option value="center">Center</option>
    <option value="right">Right</option>
  </select>

  <label>Preloaded Game Pieces</label>
  <input id="preload" type="number" min="0">

  <label>Auto Routine Type</label>
  <select id="autoType">
    <option value="">Select</option>
    <option value="timed">Timed</option>
    <option value="sensor">Sensor-based</option>
    <option value="vision">Vision targeting</option>
  </select>

  <label>Estimated Auto Score</label>
  <input id="autoCount" type="number" min="0">
</div>

<div class="card">
  <h2>‚öôÔ∏è Mechanical Systems</h2>

  <label>Drivetrain</label>
  <select id="drive">
    <option value="">Select</option>
    <option value="swerve">Swerve</option>
    <option value="tank">Tank</option>
  </select>

  <label>Intake Mechanism</label>
  <select id="intake">
    <option value="">Select</option>
    <option value="roller">Roller</option>
    <option value="pneumatic">Pneumatic</option>
    <option value="pivot">Pivot Arm</option>
  </select>

  <label>Arm / Manipulator</label>
  <select id="arm">
    <option value="">Select</option>
    <option value="single">Single Joint</option>
    <option value="double">Double Joint</option>
    <option value="elevator">Elevator</option>
  </select>

  <label>Climb Mechanism</label>
  <select id="climb">
    <option value="">Select</option>
    <option value="none">None</option>
    <option value="hook">Hook + Winch</option>
    <option value="elevator">Elevator</option>
  </select>
</div>

<div class="card">
  <h2>üì∏ Robot Photo</h2>
  <input id="photo" type="file" accept="image/*" capture="environment">
  <div class="hint">Stored locally, not embedded in QR</div>
  <img id="preview" hidden>
</div>

<button onclick="generateQR()">Generate QR Code</button>
<button class="secondary" onclick="resetForm()">Reset</button>

<div id="qrcode"></div>

<script>
const ids = ["team","name","autoStart","preload","autoType","autoCount","drive","intake","arm","climb"];
ids.forEach(id => {
  const el = document.getElementById(id);
  if (localStorage[id]) el.value = localStorage[id];
  el.addEventListener("input", () => localStorage[id] = el.value);
});

const photo = document.getElementById("photo");
const preview = document.getElementById("preview");

photo.addEventListener("change", () => {
  const f = photo.files[0];
  if (!f) return;
  const r = new FileReader();
  r.onload = () => {
    localStorage.photo = r.result;
    preview.src = r.result;
    preview.hidden = false;
  };
  r.readAsDataURL(f);
});

if (localStorage.photo) {
  preview.src = localStorage.photo;
  preview.hidden = false;
}

function generateQR() {
  if (!team.value) return alert("Team number required");

  const data = {
    t: team.value,
    n: name.value,
    as: autoStart.value,
    pl: preload.value,
    at: autoType.value,
    ac: autoCount.value,
    d: drive.value,
    i: intake.value,
    a: arm.value,
    c: climb.value,
    p: !!localStorage.photo,
    ts: Date.now()
  };

  qrcode.innerHTML = "";
  new QRCode(qrcode, {
    text: JSON.stringify(data),
    width: 230,
    height: 230
  });
}

function resetForm() {
  ids.forEach(id => {
    localStorage.removeItem(id);
    document.getElementById(id).value = "";
  });
  localStorage.removeItem("photo");
  preview.hidden = true;
  qrcode.innerHTML = "";
}
</script>

</body>
</html>
